<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BioSeguro - Curso de Biosseguran√ßa</title>
<style>
:root {
  --primary:#2c3e50; --secondary:#3498db; --accent:#e74c3c;
  --success:#2ecc71; --warning:#f39c12; --light:#ecf0f1;
  --dark:#2c3e50; --text:#333;
}
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Tahoma,Verdana,sans-serif}
body{
  background:linear-gradient(135deg,var(--secondary),var(--primary));
  min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;color:var(--text)
}
.container{
  max-width:800px;width:100%;background:#fff;border-radius:15px;
  box-shadow:0 10px 25px rgba(0,0,0,.2);overflow:hidden
}
header{background:var(--primary);color:#fff;text-align:center;padding:20px;position:relative}
header h1{font-size:2.2rem;margin-bottom:5px}
header p{font-size:1.1rem;opacity:.9}
.logo{position:absolute;top:15px;left:20px;font-size:2rem;font-weight:bold;color:var(--accent)}
.content{padding:30px}
.screen{display:none}.screen.active{display:block}
h2{color:var(--primary);margin-bottom:15px;text-align:center}
.progress-container{margin:20px 0}
.progress-bar{height:12px;background:#e0e0e0;border-radius:10px;overflow:hidden}
.progress{height:100%;background:linear-gradient(90deg,var(--secondary),var(--primary));width:0;transition:.5s;border-radius:10px}
.progress-text{display:flex;justify-content:space-between;margin-top:5px;font-size:.9rem;color:var(--dark)}
.question{background:var(--light);padding:20px;border-radius:10px;margin-bottom:20px}
.question-text{font-size:1.2rem;margin-bottom:15px;font-weight:500}
.options{display:grid;gap:12px}
.option{
  padding:15px;background:#fff;border:2px solid #ddd;border-radius:8px;
  cursor:pointer;transition:.2s
}
.option:hover{border-color:var(--secondary);background:#e8f4ff}
.option.selected{border-color:var(--secondary);background:#d1e9ff}
.option.correct{border-color:var(--success);background:#e6f7ee}
.option.incorrect{border-color:var(--accent);background:#fde9e9}
.feedback{
  margin:20px 0;padding:15px;border-radius:8px;font-weight:500;display:none
}
.feedback.correct{background:#e6f7ee;color:#27ae60;border:1px solid var(--success)}
.feedback.incorrect{background:#fde9e9;color:var(--accent);border:1px solid var(--accent)}
.button{
  padding:14px 25px;background:var(--primary);color:#fff;border:none;
  border-radius:8px;cursor:pointer;font-size:1rem;font-weight:600;
  transition:.3s;display:inline-block;text-align:center
}
.button:hover{background:var(--secondary);transform:translateY(-2px);box-shadow:0 5px 15px rgba(0,0,0,.1)}
.button:active{transform:translateY(0)}
.button-container{display:flex;justify-content:center;margin-top:20px;gap:10px}
.results-screen{text-align:center}
.score-circle{
  width:150px;height:150px;border-radius:50%;
  background:conic-gradient(var(--success) 0% var(--p),#f0f0f0 var(--p) 100%);
  margin:20px auto;display:flex;align-items:center;justify-content:center
}
.score-inner{
  width:120px;height:120px;border-radius:50%;background:#fff;
  display:flex;align-items:center;justify-content:center;
  font-size:2rem;font-weight:bold;color:var(--primary)
}
.stats{display:flex;justify-content:space-around;margin:30px 0;flex-wrap:wrap;gap:20px}
.stat{text-align:center}
.stat-value{font-size:2rem;font-weight:bold;color:var(--primary)}
.stat-label{font-size:.9rem;color:#777}
input[type=text]{
  width:100%;max-width:400px;padding:15px;border:2px solid #ddd;
  border-radius:8px;font-size:1rem;margin:15px 0;transition:.3s
}
input[type=text]:focus{border-color:var(--secondary);outline:none}
.chapter-title{display:flex;align-items:center;justify-content:center;gap:10px;margin-bottom:10px}
.chapter-icon{font-size:1.8rem;color:var(--secondary)}
@media(max-width:600px){
  .container{border-radius:10px}
  header h1{font-size:1.8rem}
  .content{padding:20px}
  .button{width:100%}
}
</style>
</head>
<body>
<div class="container">
  <header>
    <div class="logo">BS</div>
    <h1>BioSeguro</h1>
    <p>Curso de Biosseguran√ßa e Boas Pr√°ticas de Laborat√≥rio</p>
  </header>
  <div class="content">
    <!-- Boas-vindas -->
    <div id="welcomeScreen" class="screen active">
      <div class="welcome-screen" style="text-align:center">
        <h2>Bem-vindo ao Curso de Biosseguran√ßa!</h2>
        <p>Voc√™ precisar√° acertar pelo menos 6 de 10 quest√µes em cada cap√≠tulo para avan√ßar. Ao final, receber√° um certificado virtual.</p>
        <input type="text" id="userName" placeholder="Digite seu nome para come√ßar">
        <div class="button-container"><button class="button" onclick="startCourse()">Iniciar Curso</button></div>
      </div>
    </div>
    <!-- Cap√≠tulo -->
    <div id="chapterScreen" class="screen">
      <h2><div class="chapter-title"><span class="chapter-icon">üî¨</span><span id="chapterTitle"></span></div></h2>
      <div class="progress-container">
        <div class="progress-bar"><div id="progress" class="progress"></div></div>
        <div class="progress-text"><span>Progresso</span><span id="progressText">0/10</span></div>
      </div>
      <div class="question">
        <div id="questionText" class="question-text"></div>
        <div id="options" class="options"></div>
      </div>
      <div id="feedback" class="feedback"></div>
      <div class="button-container">
        <button id="submitButton" class="button" onclick="checkAnswer()">Verificar</button>
        <button id="nextButton" class="button" onclick="nextQuestion()" style="display:none">Pr√≥xima</button>
      </div>
    </div>
    <!-- Resultados -->
    <div id="resultsScreen" class="screen">
      <div class="results-screen">
        <h2 id="resultsTitle"></h2>
        <p id="resultsMessage"></p>
        <div class="score-circle" id="scoreCircle"><div class="score-inner"><span id="scoreValue"></span>/10</div></div>
        <p id="resultsFeedback"></p>
        <div class="button-container">
          <button id="nextChapterButton" class="button" onclick="nextChapter()">Pr√≥ximo Cap√≠tulo</button>
          <button id="retryChapterButton" class="button" onclick="retryChapter()">Tentar Novamente</button>
        </div>
      </div>
    </div>
    <!-- Conclus√£o -->
    <div id="completionScreen" class="screen">
      <div class="results-screen">
        <h2>Parab√©ns, <span id="userNameDisplay"></span>!</h2>
        <p>Voc√™ completou todos os cap√≠tulos!</p>
        <div class="stats">
          <div class="stat"><div class="stat-value" id="totalCorrect"></div><div class="stat-label">Acertos Totais</div></div>
          <div class="stat"><div class="stat-value" id="averageScore"></div><div class="stat-label">Pontua√ß√£o M√©dia</div></div>
          <div class="stat"><div class="stat-value" id="chaptersCompleted"></div><div class="stat-label">Cap√≠tulos</div></div>
        </div>
        <div class="button-container"><button class="button" onclick="restartCourse()">Refazer Curso</button></div>
      </div>
    </div>
  </div>
</div>
<script>
// Utilit√°rio
const $id=id=>document.getElementById(id);

// Dados (resumido s√≥ pra exemplo, manter todos os cap√≠tulos como no seu original)
const courseData=[/* ...mesmo conte√∫do das perguntas... */];
const chapterTitles=[
  "Conceitos B√°sicos de Biosseguran√ßa",
  "Riscos e Precau√ß√µes",
  "Boas Pr√°ticas e Gest√£o de Res√≠duos"
];

// Estado
let currentChapter=0,currentQuestion=0,score=0,selectedOption=null,userName="",chapterScores=[0,0,0],userAnswers=[];

// Inicializa√ß√£o
window.onload=()=>{
  const saved=localStorage.getItem("biosafetyCourseProgress");
  if(saved){
    ({userName,currentChapter,currentQuestion,score,chapterScores,userAnswers} = JSON.parse(saved));
    if(userName){showScreen("chapterScreen");updateProgressBar();showQuestion();}
  }
};
function showScreen(id){
  document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
  $id(id).classList.add("active");
}
function startCourse(){
  userName=$id("userName").value.trim();
  if(!userName)return alert("Digite seu nome!");
  currentChapter=currentQuestion=score=0;chapterScores=[0,0,0];userAnswers=[];
  saveProgress();showScreen("chapterScreen");updateProgressBar();showQuestion();
}
function showQuestion(){
  const q=courseData[currentChapter][currentQuestion];
  $id("questionText").textContent=q.question;
  $id("options").innerHTML=q.options.map((opt,i)=>`<div class="option" data-i="${i}">${opt}</div>`).join("");
  document.querySelectorAll(".option").forEach(el=>el.onclick=()=>selectOption(el));
  $id("chapterTitle").textContent=`Cap√≠tulo ${currentChapter+1}: ${chapterTitles[currentChapter]}`;
  $id("feedback").style.display="none";
  $id("submitButton").style.display="inline-block";
  $id("nextButton").style.display="none";
  selectedOption=null;
}
function selectOption(el){
  document.querySelectorAll(".option").forEach(o=>o.classList.remove("selected"));
  el.classList.add("selected");selectedOption=+el.dataset.i;
}
function checkAnswer(){
  if(selectedOption==null)return alert("Selecione uma op√ß√£o.");
  const q=courseData[currentChapter][currentQuestion];
  const opts=document.querySelectorAll(".option");
  userAnswers.push({chapter:currentChapter,question:currentQuestion,selected:selectedOption,correct:q.correct});
  const fb=$id("feedback");fb.style.display="block";
  if(selectedOption===q.correct){fb.textContent="Correto!";fb.className="feedback correct";score++;chapterScores[currentChapter]++;}
  else{fb.textContent=`Incorreto. Resposta: ${q.options[q.correct]}`;fb.className="feedback incorrect";opts[q.correct].classList.add("correct");opts[selectedOption].classList.add("incorrect");}
  $id("submitButton").style.display="none";$id("nextButton").style.display="inline-block";saveProgress();
}
function nextQuestion(){
  currentQuestion++;
  if(currentQuestion>=courseData[currentChapter].length)finishChapter();
  else{showQuestion();updateProgressBar();}
}
function updateProgressBar(){
  const len=courseData[currentChapter].length;
  $id("progress").style.width=`${(currentQuestion/len)*100}%`;
  $id("progressText").textContent=`${currentQuestion}/${len}`;
}
function finishChapter(){
  const chScore=chapterScores[currentChapter];
  $id("scoreValue").textContent=chScore;
  $id("resultsTitle").textContent=`Resultado do Cap√≠tulo ${currentChapter+1}`;
  $id("resultsMessage").textContent=`Voc√™ acertou ${chScore} de 10.`;
  $id("scoreCircle").style.setProperty("--p",`${(chScore/10)*100}%`);
  if(chScore>=6){$id("resultsFeedback").textContent="Parab√©ns! Pode avan√ßar."; $id("nextChapterButton").style.display="inline-block";$id("retryChapterButton").style.display="none";}
  else{$id("resultsFeedback").textContent="Voc√™ n√£o atingiu a pontua√ß√£o m√≠nima."; $id("nextChapterButton").style.display="none";$id("retryChapterButton").style.display="inline-block";}
  showScreen("resultsScreen");
}
function nextChapter(){
  currentChapter++;currentQuestion=0;
  if(currentChapter>=courseData.length)showCompletionScreen();
  else{showScreen("chapterScreen");updateProgressBar();showQuestion();saveProgress();}
}
function retryChapter(){
  score-=chapterScores[currentChapter];chapterScores[currentChapter]=0;currentQuestion=0;
  userAnswers=userAnswers.filter(a=>a.chapter!==currentChapter);
  saveProgress();showScreen("chapterScreen");updateProgressBar();showQuestion();
}
function showCompletionScreen(){
  $id("userNameDisplay").textContent=userName;
  $id("totalCorrect").textContent=score;
  $id("averageScore").textContent=`${(score/(courseData.length*10)*100).toFixed(1)}%`;
  $id("chaptersCompleted").textContent=`${courseData.length}/${courseData.length}`;
  showScreen("completionScreen");localStorage.removeItem("biosafetyCourseProgress");
}
function restartCourse(){
  userName="";currentChapter=currentQuestion=score=0;chapterScores=[0,0,0];userAnswers=[];
  localStorage.removeItem("biosafetyCourseProgress");$id("userName").value="";showScreen("welcomeScreen");
}
function saveProgress(){localStorage.setItem("biosafetyCourseProgress",JSON.stringify({userName,currentChapter,currentQuestion,score,chapterScores,userAnswers}))}
</script>
</body>
</html>
